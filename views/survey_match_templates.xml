<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Define our template without inheritance -->
    <template id="match_following_assets" name="Match Following Assets">
        <script type="text/javascript" src="/custom_elearn/static/src/js/survey_match_following.js"/>
    </template>
    
    <!-- Create a direct template for match following questions -->
    <template id="match_following_question_content" name="Survey: Match Following Question">
        <div class="match_following_container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Items</h5>
                    <div class="match_items_left">
                        <!-- Items will be inserted here by JavaScript -->
                    </div>
                </div>
                <div class="col-md-6">
                    <h5>Match With</h5>
                    <div class="match_items_right">
                        <!-- Items will be inserted here by JavaScript -->
                    </div>
                </div>
            </div>
            <p class="text-muted mt-2">Drag items from left to match with items on the right.</p>
        </div>
    </template>

    <!-- Simply inject our script directly into the survey layout -->
    <template id="survey_layout_with_match_following" inherit_id="survey.layout">
        <xpath expr="//head" position="inside">
            <script type="text/javascript" src="/custom_elearn/static/src/js/survey_match_following.js"/>
            <style>
                /* Basic styles for match following */
                .match_following_container {
                    margin: 15px 0;
                    padding: 15px;
                    background-color: #f9f9fa;
                    border-radius: 4px;
                }
                .match_left_items, .match_right_items {
                    min-height: 150px;
                    background-color: #fff;
                }
                .match_item {
                    cursor: pointer;
                    transition: all 0.2s;
                }
                .match_left_items .match_item {
                    cursor: grab;
                }
                .match_item.matched {
                    background-color: #d4edda !important;
                    border-color: #c3e6cb !important;
                }
                .match_item.dragging {
                    opacity: 0.5;
                }
            </style>
        </xpath>
    </template>
</odoo>
